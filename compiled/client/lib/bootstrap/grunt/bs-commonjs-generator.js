/*!
 * Bootstrap Grunt task for the CommonJS module generation
 * http://getbootstrap.com
 * Copyright 2014-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

'use strict';

var fs = require('fs');
var path = require('path');

var COMMONJS_BANNER = '// This file is autogenerated via the `commonjs` Grunt task. You can require() this file in a CommonJS environment.\n';

module.exports = function generateCommonJSModule(grunt, srcFiles, destFilepath) {
  var destDir = path.dirname(destFilepath);

  function srcPathToDestRequire(srcFilepath) {
    return 'require(\'' + srcFilepath.replace(/\\/g, '/') + '\')';
  }

  var moduleOutputJs = COMMONJS_BANNER + srcFiles.map(srcPathToDestRequire).join('\n');
  try {
    fs.writeFileSync(destFilepath, moduleOutputJs);
  } catch (err) {
    grunt.fail.warn(err);
  }
  grunt.log.writeln('File ' + destFilepath.cyan + ' created.');
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2NsaWVudC9saWIvYm9vdHN0cmFwL2dydW50L2JzLWNvbW1vbmpzLWdlbmVyYXRvci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBT0E7O0FBRUEsSUFBSSxLQUFLLFFBQVEsSUFBUixDQUFMO0FBQ0osSUFBSSxPQUFPLFFBQVEsTUFBUixDQUFQOztBQUVKLElBQUksa0JBQWtCLHVIQUFsQjs7QUFFSixPQUFPLE9BQVAsR0FBaUIsU0FBUyxzQkFBVCxDQUFnQyxLQUFoQyxFQUF1QyxRQUF2QyxFQUFpRCxZQUFqRCxFQUErRDtBQUM5RSxNQUFJLFVBQVUsS0FBSyxPQUFMLENBQWEsWUFBYixDQUFWLENBRDBFOztBQUc5RSxXQUFTLG9CQUFULENBQThCLFdBQTlCLEVBQTJDO0FBQ3pDLFdBQU8sZUFBZSxZQUFZLE9BQVosQ0FBb0IsS0FBcEIsRUFBMkIsR0FBM0IsQ0FBZixHQUFpRCxLQUFqRCxDQURrQztHQUEzQzs7QUFJQSxNQUFJLGlCQUFpQixrQkFBa0IsU0FBUyxHQUFULENBQWEsb0JBQWIsRUFBbUMsSUFBbkMsQ0FBd0MsSUFBeEMsQ0FBbEIsQ0FQeUQ7QUFROUUsTUFBSTtBQUNGLE9BQUcsYUFBSCxDQUFpQixZQUFqQixFQUErQixjQUEvQixFQURFO0dBQUosQ0FFRSxPQUFPLEdBQVAsRUFBWTtBQUNaLFVBQU0sSUFBTixDQUFXLElBQVgsQ0FBZ0IsR0FBaEIsRUFEWTtHQUFaO0FBR0YsUUFBTSxHQUFOLENBQVUsT0FBVixDQUFrQixVQUFVLGFBQWEsSUFBYixHQUFvQixXQUE5QixDQUFsQixDQWI4RTtDQUEvRCIsImZpbGUiOiJicy1jb21tb25qcy1nZW5lcmF0b3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEJvb3RzdHJhcCBHcnVudCB0YXNrIGZvciB0aGUgQ29tbW9uSlMgbW9kdWxlIGdlbmVyYXRpb25cbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tXG4gKiBDb3B5cmlnaHQgMjAxNC0yMDE1IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgZnMgPSByZXF1aXJlKCdmcycpO1xudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbnZhciBDT01NT05KU19CQU5ORVIgPSAnLy8gVGhpcyBmaWxlIGlzIGF1dG9nZW5lcmF0ZWQgdmlhIHRoZSBgY29tbW9uanNgIEdydW50IHRhc2suIFlvdSBjYW4gcmVxdWlyZSgpIHRoaXMgZmlsZSBpbiBhIENvbW1vbkpTIGVudmlyb25tZW50Llxcbic7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZ2VuZXJhdGVDb21tb25KU01vZHVsZShncnVudCwgc3JjRmlsZXMsIGRlc3RGaWxlcGF0aCkge1xuICB2YXIgZGVzdERpciA9IHBhdGguZGlybmFtZShkZXN0RmlsZXBhdGgpO1xuXG4gIGZ1bmN0aW9uIHNyY1BhdGhUb0Rlc3RSZXF1aXJlKHNyY0ZpbGVwYXRoKSB7XG4gICAgcmV0dXJuICdyZXF1aXJlKFxcJycgKyBzcmNGaWxlcGF0aC5yZXBsYWNlKC9cXFxcL2csICcvJykgKyAnXFwnKSc7XG4gIH1cblxuICB2YXIgbW9kdWxlT3V0cHV0SnMgPSBDT01NT05KU19CQU5ORVIgKyBzcmNGaWxlcy5tYXAoc3JjUGF0aFRvRGVzdFJlcXVpcmUpLmpvaW4oJ1xcbicpO1xuICB0cnkge1xuICAgIGZzLndyaXRlRmlsZVN5bmMoZGVzdEZpbGVwYXRoLCBtb2R1bGVPdXRwdXRKcyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGdydW50LmZhaWwud2FybihlcnIpO1xuICB9XG4gIGdydW50LmxvZy53cml0ZWxuKCdGaWxlICcgKyBkZXN0RmlsZXBhdGguY3lhbiArICcgY3JlYXRlZC4nKTtcbn07XG4iXX0=